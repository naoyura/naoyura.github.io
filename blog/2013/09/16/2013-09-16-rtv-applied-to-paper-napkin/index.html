
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>なもり先生の紙ナプ絵を＼ｱｯｶﾘ～ﾝ／しようとした結果→＼ﾅｯﾌﾟｷ〜ﾝ／ - なおゆらっぴんぐブログ</title>
	<meta name="author" content="なおゆら">

	
	<meta name="description" content="なもり先生の紙ナプキン・イラストはとても素晴らしいです。紙ナプキンの表面の質感(テクスチャ)が独特の味を醸し出していて、それでいて描かれているキャラはとても可愛い。 ところで、以前から気になっていた論文を読んでMatlab環境もセットアップしたので、 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="なおゆらっぴんぐブログ" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">なおゆらっぴんぐブログ</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/voyage">Voyage</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/voyage">Voyage</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:naoyura.github.io">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/nyaoyura" title="Twitter">Twitter</a>
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:naoyura.github.io">
	</form>
</nav>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>


</header>
	
		
	
	<div id="content" class="inner"><article class="post">
	<h2 class="title">なもり先生の紙ナプ絵を＼ｱｯｶﾘ～ﾝ／しようとした結果→＼ﾅｯﾌﾟｷ〜ﾝ／</h2>
	<div class="entry-content"><p>なもり先生の紙ナプキン・イラストはとても素晴らしいです。紙ナプキンの表面の質感(テクスチャ)が独特の味を醸し出していて、それでいて描かれているキャラはとても可愛い。</p>

<p>ところで、以前から気になっていた論文を読んでMatlab環境もセットアップしたので、論文と共に提供されているデモコードを試してみました。以下、著者らによる提案手法をなもり先生の紙ナプ絵に適用してみた結果となります。</p>

<p><img src="http://naoyura.github.io/photos/2013/namori_teaser.jpg" alt="なもり先生の紙ナプ絵を＼ｱｯｶﾘ～ﾝ／しようとした結果→＼ﾅｯﾌﾟｷ〜ﾝ／" width="600"></p>

<!-- more -->


<h3>はじめに</h3>

<p>改めて、なもり先生のイラストが素晴らしく可愛いことは周知の通りですし、ツイッターにもたくさんの&#8221;らくがき&#8221;を投稿され、目の保養が促進されます。</p>

<p>特に、紙ナプキンに描かれたキャラクターは、キャラ自体が可愛いのもさることながら、紙ナプキンの質感(テクスチャ)が独特の味を醸し出すことでさらに魅力的な作品になっております。</p>

<p>他方、最近読んだ下記の論文の手法に感銘を受けたのも記憶に新しいです。</p>

<p><a href="http://www.cse.cuhk.edu.hk/leojia/projects/texturesep/index.html">Structure Extraction from Texture via Relative Total Variation</a></p>

<p>プロジェクトサイトのトップにあるティザーイメージを見ると何をする手法なのか一目瞭然かと思いますが、テクスチャ上に描かれた前景の構造を抽出する手法となっています。詳細は本稿末尾の方に少し技術的な内容をーーとは言え直感的な説明としてですがーー紹介しますが、詳しくは論文で確認して下さい(理解が不十分で著者らの提案を正しく紹介できている保証はないいので…)。</p>

<p>著者らが新規に提案する、&#8221;Relative Total Variation(RTV)&ldquo;という指標を用いると、著者らが言うところの&#8221;structure+texture&#8221;、すなわち、シャッターや壁面に描かれている類の多くのグラフィティや、タイルを敷き詰めて描いたモザイクアートのようなイラストから、背景を除去して全面のイラストだけを抽出することが可能となります。</p>

<p>ということで、なもり先生の紙ナプ絵にRTVを適用してみようと思いました。結果画像を以下に示します。並べて掲載してあるものの左側がオリジナル画像、右側がRTVを適用した結果画像となります。</p>

<h3>結果</h3>

<p><img src="http://naoyura.github.io/photos/2013/namori_1.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_2.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_3.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_4.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_5.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_6.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_7.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_8.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_9.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_10.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_11.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<p><img src="http://naoyura.github.io/photos/2013/namori_12.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<h3>おまけ</h3>

<p>また、ノートに描かれた&#8221;らくがき&#8221;に適用した結果を示します。テクスチャあまり強くないので上手くいきませんでした。</p>

<p><img src="http://naoyura.github.io/photos/2013/namori_note.jpg" alt="左：オリジナル画像、右：RTV適用結果。" width="600"></p>

<h3>手法概要</h3>

<p>この手法は、次の式がベースにあります。</p>

<script type="math/tex; mode=display">
\newcommand{\argmin}{\mathop{\rm arg~min}\limits}
\argmin_S \sum_p (S_p - I_p)^2 + \lambda \cdot RTV
</script>


<p>上式の第一項はデータ項として、入力と出力が大きく変化し過ぎないように
ペナルティを与える項で、第二項がRTV指標による項となります。他の指標とどう違った結果が得られるかは下図が直感的に分かりやすいです。(a)が入力、(b)がWindowd total variation、(c)がWindowed inherent variation、(d)がRTV、(e)が本手法適用結果となっています。</p>

<p><img src="http://naoyura.github.io/photos/2013/Xu_et_al_siga2012_1.jpg" alt="Figure2 [Xu et. al. 2012]より引用。" width="600"></p>

<p>定量的な評価結果は下図になります。赤線がテクスチャ、緑線がストラクチャで、他の指標よりRTVの方がより明確に(そしてロバストに)両者を区別できているのが分かります。</p>

<p><img src="http://naoyura.github.io/photos/2013/Xu_et_al_siga2012_2.jpg" alt="Figure3(bottom)[Xu et. al. 2012]より引用。" width="600"></p>

<p>この手法では、テクスチャに関する事前処理が必要ありません。また、本来ならば非凸なため非線形最適化を行わなければいけないのですが、著者らの寄与により、そのような項を部分に分解し、より簡単かつ高速に解くための数値計算法も提案されています。</p>

<p>この手法の応用は広く、ビットマップのベクトル化や線画抽出の前処理として用いたり、画像のコンポジションやSeam Carvingの際に用いることでより自然な結果を得ることができる様です。</p>

<p>人間は&#8221;structure+texture&#8221;な画から前景だけを抽出し、何が描かれているか、あるいはトレースする場合を考えても、容易に背景テクスチャを無視することが可能です。しかし、計算機の場合にはそのような高次の処理はとても困難となります。この手法ではその困難を克服し、事前情報なしに抽出可能となりました。当然、苦手なタイプの画というのもあり、例えばテクスチャとストラクチャのスケールが同程度の場合、本手法では上手く処理できない模様です。</p>
</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-09-16T17:11:00+09:00" pubdate data-updated="true">Sep 16<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ri-ji-,-lun-wen-,-anime/'>日記、論文、アニメ</a>


</div>
	
</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    なおゆら

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-41621372-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>